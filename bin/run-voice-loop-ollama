#!/usr/bin/env bash
set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
DEFAULT_CMD="$SCRIPT_DIR/codex-ollama"
DEFAULT_MODEL="deepseek-coder:1.3b"
DEFAULT_TEMP="0.2"
DEFAULT_NUM_PREDICT="64"
export CODEX_CHAT_CMD="${CODEX_CHAT_CMD:-$DEFAULT_CMD}"
export CODEX_OLLAMA_MODEL="${CODEX_OLLAMA_MODEL:-$DEFAULT_MODEL}"
export CODEX_OLLAMA_TEMPERATURE="${CODEX_OLLAMA_TEMPERATURE:-$DEFAULT_TEMP}"
export CODEX_OLLAMA_NUM_PREDICT="${CODEX_OLLAMA_NUM_PREDICT:-$DEFAULT_NUM_PREDICT}"
exec "$SCRIPT_DIR/run-voice-loop" "$@"
